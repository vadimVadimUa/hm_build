(this.webpackJsonphorizontal_method=this.webpackJsonphorizontal_method||[]).push([[0],{25:function(e,t,a){e.exports=a(36)},31:function(e,t,a){},32:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(15),l=a.n(i),o=(a(30),a(31),a(32),a(12)),c=a(6),u=a(7),s=a(9),h=a(8),m=a(11),f=a(10),g=a(1);function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(a,!0).forEach((function(t){Object(o.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var v=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(h.a)(t).call(this,e))).storageKey="data",a.SEPARATOR=",",a.RELATIONS=["=",">=","<=","<",">"],a.initData=function(){localStorage.getItem(a.storageKey)?a.state=JSON.parse(localStorage.getItem(a.storageKey)):a.state={A:"",f:[""],g:[{x:"",limit:0,relation:"="}]}},a.submitData=function(e){localStorage.setItem("data",JSON.stringify(a.state));var t=p({},a.state);t.A=t.A.replace(/\s+/g,"").split(a.SEPARATOR).map((function(e){return+e})),t.f=t.f.map((function(e){return e.replace(/\s+/g,"").split(a.SEPARATOR).map((function(e){return+e}))})),t.g=t.g.map((function(e){return{x:e.x.replace(/\s+/g,"").split(a.SEPARATOR).map((function(e){return+e})),limit:+e.limit,relation:e.relation}})),a.props.onDataSubmit(t)},a.onChangeInput=function(e){a.setState({A:e.target.value})},a.changeInputF=function(e){return function(t){var n=a.state.f.map((function(a,n){return e!==n?a:t.target.value}));a.setState({f:n})}},a.changeInputG=function(e,t){return function(n){var r=a.state.g.map((function(a,r){return e!==r?a:p({},a,Object(o.a)({},t,n.target.value))}));a.setState({g:r})}},a.removeInputF=function(e){return function(t){a.setState({f:a.state.f.filter((function(t,a){return a!==e}))})}},a.removeInputG=function(e){return function(t){a.setState({g:a.state.g.filter((function(t,a){return a!==e}))})}},a.addInputF=function(){a.setState({f:[].concat(Object(g.a)(a.state.f),[""])})},a.addInputG=function(){a.setState({g:[].concat(Object(g.a)(a.state.g),[{x:"",limit:0}])})},a.genInputsF=function(){return a.state.f.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("b",null," f ",t+1," "),r.a.createElement("input",{type:"text",className:"appSetData__F",value:e,name:t,onChange:a.changeInputF(t)}),r.a.createElement("button",{onClick:a.removeInputF(t)},"-"))}))},a.genInputsG=function(){return a.state.g.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("b",null," g ",t+1," "),r.a.createElement("input",{type:"text",className:"appSetData__G",value:e.x,name:t,onChange:a.changeInputG(t,"x")}),r.a.createElement("select",{className:"appSetData__G-relation",value:e.relation,onChange:a.changeInputG(t,"relation")},a.RELATIONS.map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)})),"}"),r.a.createElement("input",{type:"number",className:"appSetData__G-limit",value:e.limit,name:"limit_"+t,onChange:a.changeInputG(t,"limit")}),r.a.createElement("button",{onClick:a.removeInputG(t)},"-"))}))},a.inputA=function(){return r.a.createElement("div",null,r.a.createElement("b",null,"A "),r.a.createElement("input",{className:"appSetData__A",name:"A",value:a.state.A,onChange:a.onChangeInput}))},a.initData(),a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"appSetData"},this.inputA(),r.a.createElement("div",null,this.genInputsF()),r.a.createElement("div",null,r.a.createElement("button",{onClick:this.addInputF},"Add f")),r.a.createElement("div",null,this.genInputsG()),r.a.createElement("div",null,r.a.createElement("button",{onClick:this.addInputG},"Add g")),r.a.createElement("button",{onClick:this.submitData},"Calculate"))}}]),t}(r.a.Component),b=function e(t,a,n){Object(c.a)(this,e),this.set=[],this.val=0,this.fixed=0,this.set=Object(g.a)(t),this.val=a,this.fixed=n},O=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(h.a)(t).call(this,e))).data={A:[1,2,3,4,5],g1:[{cof:2,x:0},{cof:4,x:1},{cof:1,x:2},{cof:7,x:3},{cof:5,x:4}],g1_:[],g1_map_origin:{},g1_nums:[],g1_value:50,g1_relation:"",graph:[],table:[],array_original:[],similarByA:{}},a.initValues(e),a.sortG1(),a.genSets(),a.checkGraph(a.data.graph),a.buildFlatTable(),a.buildOriginalPositionArray(),a.props.onCalcDone(a.data.array_original),a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"sortNumber",value:function(e,t){return e-t}},{key:"initValues",value:function(e){if(e.model){var t=e.model;this.data.A=t.A,this.data.g1=t.g.map((function(e,t){return{x:t,cof:e}})),this.data.g1_=[],this.data.g1_map_origin={},this.data.g1_nums=[],this.data.g1_value=t.g_limit,this.data.g1_relation=t.g_relation,this.data.graph=[],this.data.table=[],this.data.array_original=[],this.data.array_finish=[],this.data.similarByA=this.genCountSimilar(this.data.A)}}},{key:"buildOriginalPositionArray",value:function(){var e=this;this.data.array_original=[],this.data.table.forEach((function(t){t.forEach((function(t){!1===t.needCheck&&(e.data.array_original.push(e.convertToOriginalG1(t.max.set)),e.data.array_original.push(e.convertToOriginalG1(t.min.set)),e.data.array_finish.push(t.max.set),e.data.array_finish.push(t.min.set))}))}))}},{key:"buildFlatTable",value:function(){var e=this;this.data.table.push(this.data.graph);!function t(a){a&&a.forEach((function(a){a&&a.graph&&e.data.table.push(a.graph),t(a.graph)}))}(this.data.graph)}},{key:"convertToOriginalG1",value:function(e){var t=this,a=[];return e.forEach((function(e,n){var r=t.data.g1_map_origin[n];a[r]=e})),a}},{key:"sortG1",value:function(){var e=this;this.data.g1_=Object(g.a)(this.data.g1.sort((function(e,t){return e.cof-t.cof}))),this.data.g1_nums=this.data.g1_.map((function(e){return e.cof})),this.data.g1_map_origin={},this.data.g1_.forEach((function(t,a){e.data.g1_map_origin[a]=t.x})),console.log(this.data.g1_map_origin)}},{key:"genSets",value:function(){var e=Object(g.a)(this.data.A.sort(this.sortNumber)),t=this.data.g1.length,a=e.slice(-t),n=e.slice(0,t).reverse();this.genGraph(a,n,0,this.data.graph)}},{key:"swap",value:function(e,t,a){var n=a[e];return a[e]=a[t],a[t]=n,Object(g.a)(a)}},{key:"getCombStep",value:function(e,t){for(var a=Object(g.a)(e),n=t-2;-1!==n&&a[n]>=a[n+1];)n--;if(-1===n)return"end";for(var r=t-1;a[n]>=a[r];)r--;this.swap(n,r,a);for(var i=n+1,l=t-1;i<l;)a=this.swap(i++,l--,a);return a}},{key:"getCombination",value:function(e,t){for(var a=[],n=Object(g.a)(e);;){if("end"===(n=this.getCombStep(n,t)))break;a.push(Object(g.a)(n))}return a}},{key:"genCountSimilar",value:function(e){var t={};return e.forEach((function(e){t[e]=(t[e]||0)+1})),t}},{key:"generationMinimum",value:function(e,t,a){var n,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=Object(g.a)(t),l=Object(g.a)(new Set(i)),o=[],c=e.length-2-r;n=c;var u=e.length-1-r,s=Object(g.a)(e),h=l.indexOf(s[u]);for(h++,o.push(s);h<l.length;){var m=!1,f=Object(g.a)(o[o.length-1]);if(f[u]=l[h],c>=0){for(var d=i.lastIndexOf(f[c]);d-1>=0;){var p=i[d-1],v=Object(g.a)(f);if(v[c]=p,d-=1,this.checkOverAinPoint(v)){m=!1;break}m=!0}!0===m&&c>=0?c--:(f[c]=i[d],this.checkOverAinPoint(f)&&o.push(f),c>=0&&(n=--c),h++)}else this.checkOverAinPoint(f)&&o.push(f),c=n,h++}return o=o.reverse()}},{key:"generationMaximum",value:function(e,t,a){var n,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=Object(g.a)(t),l=Object(g.a)(new Set(i)),o=[],c=e.length-2-r;n=c;var u=e.length-1-r,s=Object(g.a)(e),h=l.indexOf(s[u]);for(h--,o.push(s);h>=0;){var m=!1,f=Object(g.a)(o[o.length-1]);if(f[u]=l[h],c>=0){for(var d=i.indexOf(f[c]);d+1<i.length;){var p=i[d+1],v=Object(g.a)(f);if(v[c]=p,d+=1,this.checkOverAinPoint(v)){m=!1;break}m=!0}!0===m&&c>=0?c--:(f[c]=i[d],this.checkOverAinPoint(f)&&o.push(f),c>=0&&(n=--c),h--)}else this.checkOverAinPoint(f)&&o.push(f),c=n,h--}return o}},{key:"checkOverAinPoint",value:function(e){var t=this,a=this.genCountSimilar(e);return 0===Object.keys(a).filter((function(e){return a[e]>t.data.similarByA[e]})).length}},{key:"genGraph",value:function(e,t,a,n){if(!(e.length<a)){var r=this.data.g1.length,i=this.generationMinimum(t,this.data.A,r,a),l=this.generationMaximum(e,this.data.A,r,a);if(i.length===l.length)for(var o=0;o<i.length;o++){var c=new b(Object(g.a)(l[o]),this.calculateArrays(Object(g.a)(l[o]),this.data.g1_nums)),u=new b(Object(g.a)(i[o]),this.calculateArrays(Object(g.a)(i[o]),this.data.g1_nums));n.push({max:c,min:u,fixed:a})}}}},{key:"checkGraph",value:function(e){for(var t=0;t<e.length;t++){var a=e[t];this.isInRelation(a.max.val,a.min.val,this.data.g1_value,this.data.g1_relation)?a.needCheck=!1:this.isOutInRelation(a.max.val,a.min.val,this.data.g1_value,this.data.g1_relation)&&(a.needCheck=!0,a.graph=[],this.genGraph(Object(g.a)(a.max.set),Object(g.a)(a.min.set),++a.fixed,a.graph),this.checkGraph(a.graph))}}},{key:"isInRelation",value:function(e,t,a,n){switch(n){case"=":return e===a&&t===a;case">=":return e>=a&&t>=a;case"<=":return e<=a&&t<=a;case">":return e>a&&t>a;case"<":return e<a&&t<a}}},{key:"isOutInRelation",value:function(e,t,a,n){switch(n){case"=":case">=":case"<=":return e>=a&&t<=a;case">":case"<":return e>a&&t<a}}},{key:"calculateArrays",value:function(e,t){return e.reduce((function(e,a,n){return e+a*t[n]}),0)}},{key:"genTable",value:function(e){return r.a.createElement(r.a.Fragment,null,e.map((function(e,t){var a="not-interested";return!0===e.needCheck?a="need-check":!1===e.needCheck&&(a="not-check"),r.a.createElement("tr",{key:t,className:a},r.a.createElement("td",null,e.max.set.join(" ")),r.a.createElement("td",null,r.a.createElement("b",null,e.max.val)),r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.min.set.join(" ")),r.a.createElement("td",null,r.a.createElement("b",null,e.min.val)))})))}},{key:"displayALl",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,this.data.table.map((function(t,a){return r.a.createElement("table",{key:a},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"g1 max"),r.a.createElement("th",null,"val"),r.a.createElement("th",{className:"table-g"},"g"),r.a.createElement("th",null,"g1 min"),r.a.createElement("th",null,"val"))),r.a.createElement("tbody",null,e.genTable(t)))})))}},{key:"render",value:function(){return r.a.createElement("div",null,this.displayALl())}},{key:"test",value:function(){function e(e){for(var t=e.length-1;t>0&&e[t-1]>=e[t];)t--;if(t<=0)return!1;for(var a=e.length-1;e[a]<=e[t-1];)a--;var n=e[t-1];for(e[t-1]=e[a],e[a]=n,a=e.length-1;t<a;)n=e[t],e[t]=e[a],e[a]=n,t++,a--;return!0}for(var t=[1,2,4,5];e(t);){for(var a=!0,n=1;n<t.length-1;n++)t[n]<t[n-1]&&(a=!1);a&&console.log(t,a)}}}]),t}(r.a.Component),y=a(18),E=a(14);function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function j(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(a,!0).forEach((function(t){Object(o.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var S=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(h.a)(t).call(this,e))).similar=[],a.data=[],a.modes=["Permutation","Permutations with repetition"],a.genModel=function(e){return{A:a.state.model.A,g:a.state.model.g[e].x,g_limit:a.state.model.g[e].limit,g_relation:a.state.model.g[e].relation,mode:a.state.mode}},a.onCalcDone=function(e,t){return function(e){a.data.push(e),a.data.length===t&&(a.clearDuplicate(),a.getOnlySimilarInAllG(),console.log("SIMILAR",a.similar))}},a.state={isShowCalc:!1,mode:a.modes[0],model:{},modelCalc:[]},a.handleDataSubmit=a.handleDataSubmit.bind(Object(m.a)(a)),a.reset=a.reset.bind(Object(m.a)(a)),a.changeMode=a.changeMode.bind(Object(m.a)(a)),a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"changeMode",value:function(e){this.setState((function(t,a){return j({},t,{mode:e.target.value})}))}},{key:"handleDataSubmit",value:function(e){this.setState((function(t,a){return j({},t,{model:j({},e),isShowCalc:!0})}))}},{key:"reset",value:function(){this.setState((function(e,t){return{isShowCalc:!1}})),this.data=[]}},{key:"clearDuplicate",value:function(){var e=this;this.data.forEach((function(t,a){var n=new Set;t.forEach((function(e){var t=e.join("_");n.add(t)}));var r=Array.from(n).map((function(e){return e.split("_").map((function(e){return+e}))}));e.data[a]=r})),console.log("CLEARED",this.data)}},{key:"getOnlySimilarInAllG",value:function(){var e=this,t={};this.data.forEach((function(e){e.forEach((function(e){var a=e.join("_");t[a]?t[a]++:t[a]=1}))})),console.log("SIMILAR COUNT",t);var a=Object.keys(t).filter((function(a){return t[a]===e.data.length}));this.similar=a.map((function(e){return e.split("_").map((function(e){return+e}))}))}},{key:"getOnlySimilar2",value:function(){var e={},t={};this.data.forEach((function(a){a.forEach((function(a){var n=a.join("_");e[n]?t[n]="COMMON":e[n]="UNICAL"}))})),console.log(e,t)}},{key:"renderSteps",value:function(){var e=this;return r.a.createElement(y.a,{defaultActiveKey:"0"},this.state.model.g.map((function(t,a,n){return e.renderStep(t,a,n)})))}},{key:"renderStep",value:function(e,t,a){return r.a.createElement(E.a,{key:t},r.a.createElement(E.a.Header,null,r.a.createElement(y.a.Toggle,{as:E.a.Header,variant:"link",eventKey:t},"CALCULATED g ",t+1)),r.a.createElement(y.a.Collapse,{eventKey:t},r.a.createElement(E.a.Body,null,r.a.createElement(O,{onCalcDone:this.onCalcDone(t,a.length),model:this.genModel(t)}))))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("button",{onClick:this.reset},"Reset"),r.a.createElement("h4",null,"Select mode:",r.a.createElement("select",{value:this.state.mode,onChange:function(t){t.persist(),e.changeMode(t)}},this.modes.map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)}))))),r.a.createElement(v,{onDataSubmit:this.handleDataSubmit}),this.state.isShowCalc&&this.renderSteps())}}]),t}(r.a.Component);var _=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},"Horizontal Method"),r.a.createElement("main",null,r.a.createElement(S,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[25,1,2]]]);
//# sourceMappingURL=main.f636c4f0.chunk.js.map